\chapter{Исследовательская часть}

Целью исследования является сравнение результатов нагрузочного тестирования разработанного программного обеспечения и сервера, развернутого на базе nginx~\cite{nginx}.

Для проведения исследования была использована электронная вычислительная машина, обладающая следующими характеристиками:
\begin{itemize}
	\item операционная система Manjaro Linux x86\_64~\cite{manjaro};
	\item процессор Intel i7-10510U 4.900 ГГц~\cite{cpu};
	\item оперативная память DDR4, 2400 МГц, 8 ГБ~\cite{ram}.
\end{itemize}

Нагрузочное тестирование проводилось с помощью утилиты Apache~Benchmark~\cite{ab}.

В таблицах~\ref{tbl_nginx}~и~\ref{tbl_myserv} представлены результаты нагрузочного тестирования сервера, развернутого на базе nginx, и разработанного программного обеспечения соответственно.

\begin{center}
	\begin{threeparttable}
			\captionsetup{justification=raggedright,singlelinecheck=off}
			\caption{\label{tbl_nginx}Результаты нагрузочного тестирования сервера, развернутого на базе nginx}
			\centering
			\begin{tabular}{|c|c|c|c|c|}
				\hline
				\specialcell{Общее\\число\\запросов,\\шт.} & \specialcell{Число\\запросов,\\отправляемых\\за раз,\\шт.} & \specialcell{Общее\\время\\тестирования,\\с} & \specialcell{Среднее\\число\\запросов\\в секунду,\\шт.} & \specialcell{Среднее\\время\\выполнения\\одного\\запроса,\\мс} \\
				\hline
				100 & 1 & 0.011 & 9175.15 & 0.109 \\
				\hline
				100 & 5 & 0.005 & 19669.55 & 0.051 \\
				\hline
				100 & 10 & 0.006 & 17452.01 & 0.057 \\
				\hline
				500 & 1 & 0.040 & 12421.74 & 0.081 \\
				\hline
				500 & 5 & 0.029 & 17480.07 & 0.057 \\
				\hline
				500 & 10 & 0.021 & 24112.65 & 0.041 \\
				\hline
				1000 & 1 & 0.075 & 13345.79 & 0.075 \\
				\hline
				1000 & 5 & 0.041 & 24262.42 & 0.041 \\
				\hline
				1000 & 10 & 0.036 & 27480.83 & 0.036 \\
				\hline
				10000 & 1 & 0.664 & 15059.79 & 0.066 \\
				\hline
				10000 & 5 & 0.315 & 31741.50 & 0.032 \\
				\hline
				10000 & 10 & 0.336 & 29731.91 & 0.034 \\
				\hline
				25000 & 1 & 1.520 & 16450.67 & 0.061 \\
				\hline
				25000 & 5 & 0.801 & 31202.26 & 0.032 \\
				\hline
				25000 & 10 & 0.795 & 31443.38 & 0.032 \\
				\hline
			\end{tabular}
		\end{threeparttable}
\end{center}
\begin{center}
	\begin{threeparttable}
		\captionsetup{justification=raggedright,singlelinecheck=off}
		\caption{\label{tbl_myserv}Результаты нагрузочного тестирования разработанного сервера}
		\centering
		\begin{tabular}{|c|c|c|c|c|}
			\hline
			\specialcell{Общее\\число\\запросов,\\шт.} & \specialcell{Число\\запросов,\\отправляемых\\за раз,\\шт.} & \specialcell{Общее\\время\\тестирования,\\с} & \specialcell{Среднее\\число\\запросов\\в секунду,\\шт.} & \specialcell{Среднее\\время\\выполнения\\одного\\запроса,\\мс} \\
			\hline
			100 & 1 & 0.041 & 2419.96 & 0.413 \\
			\hline
			100 & 5 & 0.017 & 5776.67 & 0.173 \\
			\hline
			100 & 10 & 0.016 & 6239.47 & 0.160 \\
			\hline
			500 & 1 & 0.252 & 1984.82 & 0.394 \\
			\hline
			500 & 5 & 0.065 & 7640.47 & 0.131 \\
			\hline
			500 & 10 & 0.074 & 6800.50 & 0.147 \\
			\hline
			1000 & 1 & 0.369 & 2711.27 & 0.369 \\
			\hline
			1000 & 5 & 0.143 & 7001.33 & 0.143 \\
			\hline
			1000 & 10 & 0.140 & 7158.81 & 0.140 \\
			\hline
			10000 & 1 & 3.190 & 3134.62 & 0.319 \\
			\hline
			10000 & 5 & 1.362 & 7344.42 & 0.136 \\
			\hline
			10000 & 10 & 1.354 & 7385.13 & 0.135 \\
			\hline
			25000 & 1 & 7.759 & 3221.88 & 0.310 \\
			\hline
			25000 & 5 & 3.371 & 7415.68 & 0.135 \\
			\hline
			25000 & 10 & 3.334 & 7498.62 & 0.133 \\
			\hline
		\end{tabular}
	\end{threeparttable}
\end{center}

На рисунках~\ref{avrg_time_graph1}~--~\ref{avrg_time_graph10} представлены графики зависимости среднего времени выполнения запроса от общего количества запросов.
\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
			\begin{axis}[
				title style={align=center},
				xlabel = {Общее число запросов, шт.},
				ylabel = {Среднее время выполнения запроса, мс},
				legend pos = north east,
				legend style={font=\tiny},
				width = \linewidth,
				]
				\legend{ 
					Разработанный сервер,
					Сервер на базе nginx
				};
				\addplot[mark=square*, color=blue] coordinates
				{
					(100, 0.413)
					(500, 0.394)
					(1000, 0.369)
					(10000, 0.319)
					(25000, 0.310)
				};
				\addplot[mark=triangle*, color=green] coordinates
				{
					(100, 0.109)
					(500, 0.081)
					(1000, 0.075)
					(10000, 0.066)
					(25000, 0.061)
				};
			\end{axis}
		\end{tikzpicture}
		\caption{\label{avrg_time_graph1}Графики зависимости среднего времени выполнения запроса от общего количества запросов (число запросов за раз~--- 1 шт.)}
	\end{center}
\end{figure}
\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
			\begin{axis}[
				title style={align=center},
				xlabel = {Общее число запросов, шт.},
				ylabel = {Среднее время выполнения запроса, мс},
				legend pos = north east,
				legend style={font=\tiny},
				width = \linewidth,
				]
				\legend{ 
					Разработанный сервер,
					Сервер на базе nginx
				};
				\addplot[mark=square*, color=blue] coordinates
				{
					(100, 0.173)
					(500, 0.131)
					(1000, 0.143)
					(10000, 0.136)
					(25000, 0.135)
				};
				\addplot[mark=triangle*, color=green] coordinates
				{
					(100, 0.051)
					(500, 0.057)
					(1000, 0.041)
					(10000, 0.032)
					(25000, 0.032)
				};
			\end{axis}
		\end{tikzpicture}
		\caption{\label{avrg_time_graph5}Графики зависимости среднего времени выполнения запроса от общего количества запросов (число запросов за раз~--- 5 шт.)}
	\end{center}
\end{figure}
\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}
			\begin{axis}[
				title style={align=center},
				xlabel = {Общее число запросов, шт.},
				ylabel = {Среднее время выполнения запроса, мс},
				legend pos = north east,
				legend style={font=\tiny},
				width = \linewidth,
				]
				\legend{ 
					Разработанный сервер,
					Сервер на базе nginx
				};
				\addplot[mark=square*, color=blue] coordinates
				{
					(100, 0.160)
					(500, 0.147)
					(1000, 0.140)
					(10000, 0.135)
					(25000, 0.133)
				};
				\addplot[mark=triangle*, color=green] coordinates
				{
					(100, 0.057)
					(500, 0.041)
					(1000, 0.036)
					(10000, 0.034)
					(25000, 0.032)
				};
			\end{axis}
		\end{tikzpicture}
		\caption{\label{avrg_time_graph10}Графики зависимости среднего времени выполнения запроса от общего количества запросов (число запросов за раз~--- 10 шт.)}
	\end{center}
\end{figure}

\section{Вывод}

Было проведено сравнение результатов нагрузочного тестирования разработанного программного обеспечения и сервера, развернутого на базе nginx. Согласно полученным данным, сервер на базе nginx выполняет запросы в среднем в 2.5 раза быстрее, чем разработанное программное обеспечение.

\clearpage
